---
title             : "Lexical Diversity and Vocabulary Development"
shorttitle        : "Lexical Diversity"

author: 
  - name          : "Yawen Yu"
    affiliation   : "1"
    corresponding : yes    # Define only one corresponding author
    address       : "Postal address"
    email         : "shellyyu@uchicago.edu"
  - name          : "Daniel Yurovsky"
    affiliation   : "2"


affiliation:
  - id            : "1"
    institution   : "University of California, Los Angeles"
  - id            : "2"
    institution   : "University of Chicago"

author_note: |

  Please address corresponsdence

abstract: |
  Enter abstract here. Each new line herein must be indented, like this line.
  
keywords          : "cognitive development; language acquisition; corpus analysis"
wordcount         : "X"

bibliography      : ["lexdiv.bib"]

figsintext        : yes
figurelist        : no
tablelist         : no
footnotelist      : no
lineno            : yes
mask              : no

class             : "man"
output            : papaja::apa6_pdf
---
```{r chunck options}
# Set default chunk options
knitr::opts_chunk$set(echo = FALSE, 
                      message = FALSE, 
                      error = FALSE,
                      warning = FALSE)
```

```{r load_packages, include = FALSE}
library(papaja)
library(tidyverse)
library(feather)
library(corrplot)
```

```{r analysis_preferences}
# Seed for random number generation
set.seed(42)
```



# Methods
We report how we determined our sample size, all data exclusions (if any), all manipulations, and all measures in the study. <!-- 21-word solution (Simmons, Nelson & Simonsohn, 2012; retrieved from http://ssrn.com/abstract=2160588) -->

## Participants
This study mainly uses the Language Development Project (LDP) to examine vocabulary growth of 66 typically developing children over the age of 14 months and 58 months.

LDP is a longitudinal research project conducted since 2002 with its focus on linguistic and gestural inputs and their consequences for child language and gesture in both typically developing and brain injured children. The participants were selected to match as closely as possible the 2000 census data on family income and ethnicity range in the great Chicago area. This is a collection of transcripts of conversations between the target child and the parental caregiver(s) for a 90-minute period at each visit. All conversations are videotaped during ordinary daily interactions every four months for a total of 12 visits between 14 months and 58 months. 

For our purpose, we primarily examined lexical development of 66 typically-developing children from a diverse demographic background. Additionally, in this project, researchers also assessed child‘s vocabulary skills with the use of MacArthur-Bates Communicative Development Inventories (CDIs) at 14 months and Peabody Picture Vocabulary Test (PPVT) at 30, 42 and 54 months, respectively. These two measures have been widely used as standard instruments to assess vocabulary acquisition and to diagnose specific language impairment (SLI) in children (Eickhoff, Betz, & Ristow, 2010). Given normative information of individual language development is difficult to derive from observational data because a spontaneous language sample is particularly sensitive to high-frequency words (Dale&Fenson; 1996), the CDI and PPVT would serve as a valid comparison for growth in other indicators of vocabulary acquisition. 

The criteria for drawing the sample used in the present study were the following. First, given the goal of this study is to examine lexicon development of typically-developing children, children with language impairment or brain injury were eliminated. Second, children whose home language was not English (e.g. North-American English and British English) were excluded, as the language development of bilingual children were not considered to be comparable to that of children who exclusively speak and hear English at home. Third, of the remaining children, we only collected language samples of children whose interactions with parents were videotaped for at least five sessions between 14 month and 58 months, as adequate language data is required for constructing accurate individual vocabulary growth. The tokens that were transcribed and counted included all dictionary words, onomatopoeic sounds (e.g. da-da), and evaluative sounds (e.g. uh-oh). The final sample for the present study includes 66 primary caregiver-child dyads. LDP corpus contains a total of about 7 million tokens after removing a number of special transcription characters and other artifacts of the CHILDES coding system, as well as un-transcribable sections 

## Material

## Procedure

## Data analysis
The present study concerns children’s vocabulary growth, especially growth of lexical diversity. To address this issue, we demonstrated analytically how growth curve parameters change in a deterministic manner under different lexical diversity measures and how variations in measures influence understanding of children's language outcome and the role of caregiver’s input on this outcome. 

It is difficult to establish the role of input, because of two nagging third variable-problem: (1) Shared variability in linguistic diversity between parents and children reflects context rather than process, and (2) That variability in both input and output are explained by a common variable (e.g. some non-environmental genetic variable). 

We tackled both of these problems by using growth-curve analyses that allow us to separate each participant’s intercept—a measure that captures individual initial aptitude—from their rate of development. We apply this analysis to both child and caregiver speech, in order to determine which aspects of development differ across children and which aspects of input may influence development. We employed mixed-effect model to construct a growth trajectory for each participant over an extended time period from 14 to 58 months. 

Trajectories of children’s vocabulary development are described by two person-specific parameters: intercept and slope. Mixed-effects models allow us to consider all factors that potentially contribute to the growth of children’s vocabulary. These factors comprise not only standard fixed-effects factors, more specifically, average expected lexical diversity value across children and across sessions, but also covariates bound to the subjects. 

Another advantage of mixed-effects model is that local dependencies between the successive measures, specifically, vocabulary skills in preceding sessions, can be brought into the model. Lastly, it is particularly useful for handling  situations in which measures for some individuals are missing at some time point. Overall, mixed-effects models allow for the subject and age specific adjustments to intercept and slope, and thus, enhanced precision in prediction and estimation. Given measured lexical diversity changes as a function of log-transformed age, slope in the present study is characterized as linear growth in a form of log age, and intercept is predicted based on the mixed-effects model.

After constructing individual growth trajectories, we turn to three fundamental questions in order to address the primary concern of this paper. The first question is whether the overall trajectories of children and caregivers language richness change over time. 

The second question is whether there are significant individual differences among participants in LDP corpus. We used mixed-effects models to investigate variations in emphasized growth curve parameters with respect to different lexical diversity indices (e.g. MTLD, TTR, vocd-D and MATTR). Therefore, we tracked not only the overall characteristics of participants’ vocabulary development, but also the nature of individual differences in their pattern of language use.

If there are significant variations in child’s growth parameters, the third question is what factors can predict child’s vocabulary growth across time. Here, we evaluate possible correlations among the components of child’s and caregiver’s vocabulary growth. Abundant research has demonstrated associations between maternal language and child’s early lexicon development (e.g., Hart & Risley, 1995; Hoff, 2003; Huttenlocher, Haight, Bryk, Seltzer & Lyons, 1991; Huttenlocher, Waterfall, Vasilyeva, Vevea & Hedges, 2010; Pan, Rowe, Singer & Snow, 2005; Rowe, 2008). However, it remains unknown whether these correlations vary with different indices used to measure vocabulary skills. We compared the parameters generated by lexical diversity indices under investigation to that of normative measures, including PPVT, CDI vocabulary and CDI sentence complexity measures.

```{r}
# load LDP data
ldp_all <- read_feather("/Users/Yawen/Desktop/lexical diversity/trial5_ldp/ldp_all.feather")
```

# Results
## Growth curve of child's vocabulary
The first goal of the study is to examine whether lexical diversity measures of children change over time. We plot growth trajectories of child's vocabulary skills measured by different methods at each session during 2;2 and 4;10. All measures are scaled based on their standard deviation and mean, thus, could be presented in one figure. Figure 1 presents accelerating curves of children's vocabulary growth in LDP corpus generated by MTLD, MATTR and vocd-D, that are characterized by a log-linear shape. We also plot the curves of PPVT, MLU, CDI vocabulary and sentence complexity as external norms. CDI assessments are conducted at child's early age, specifically, 18, 22, 26 and 30 months, while PPTV are conducted at 30, 41 and 53 months. They combine to represent a growth trajectory from 18 to 53 months, that lies within a specific peiord of time(i.e.14 and 58 months) intended for investigation. All measures, except for TTR curve, increase from 14 to 58 months and growth gradually diminishes over time for vocd-D. 

```{r Figure1}
ldp_all%>%
  group_by(subject)%>%
  ggplot()+
  geom_smooth(aes(x=age,y=scale(k_ttr), color="ttr"), se=F)+
  geom_smooth(aes(x=age,y=scale(k_mattr), color="mattr"), se=F)+
  geom_smooth(aes(x=age,y=scale(k_vocd), color="vocd"), se=F)+
  geom_smooth(aes(x=age,y=scale(k_mtld), color="mtld"), se=F)+
  geom_smooth(aes(x=age, y=scale(k_cdi), color="CDI vocab"),se=F)+
  geom_smooth(aes(x=age, y=scale(k_ppvt), color="PPVT"),se=F)+
  geom_smooth(aes(x=age, y=scale(k_mlu), color="mlu"),se=F)+
  geom_smooth(aes(x=age, y=scale(k_sen), color="CDI sentence"),se=F)+
  theme_classic()+
  labs(title = "Compare Lexical Diversity Indices with CDI", 
       subtitle = "LDP: 14 ~ 58 Months",
       y = "Scaled lexical diversity")+
  theme_apa()
```

We further fit regression models to evaluate relation between child's intercept and age. As expected, child's initial status of vocabulary skills are significantly related to age. For example, in LDP corpus, age is a strong predictor of the intercepts deriving from MTLD (r=0.85, p<0.001), MATTR (r=0.82, p<0.001), vocd-D (r=0.71, p<0.001), that is similar to the normative measures: CDI (r=0.93, p<0.001) and PPVT (r=0.95, p<0.001). By comparison, age explains less variance in TTR measures (r=0.46, p<0.01). TTR curve is the most volatile and hardly represent the growth pattern of child's lexicon over time. So far, the results concur with findings in many previous research (Heaps, 1978; Herdan, 1960; Arnaud, 1984; Kucera & Francis, 1967; Montag, Jones, & Smith, 2018) that TTR, also known as type-token ratio, demonstrates diminishing returns of new types. Therefore, when it is used to compare any two texts, the longer one generally appears to be less diverse.

## Variation in vocabulary development 
The second goal is to document individual differences in child's vocabulary development and caregiver's child-directed speech. We first fit all vocabulary measures, assessed by MTLD, MATTR, vocd-D, TTR, PPVT and CDI vocabulary and MLU, with log-transformed age as a sole predictor. We obtain paramters of growth trajectories, specifically, the intercept describing initial aptitude for lexical diversity and the slope showing the rate of vocabulary development over time. Descriptive statistics for these parameters are presented in Table I. Coefficient of variation is computed by dividing mean of each measure by their standard deviation. Results display that children varied widely in the initial vocabulary skills and the results generated by all measures are consistent, however, the variance of slope siginificantly differs with respect to various measures. For example, the largest variation in the slope is measured by type-token ratio, that is approximately 10 times as the child's slope drew from MTLD. The third goal of the study is to evaluate predictors of growth parameters of child's lexical development.

```{r Table1, results = "asis",message=FALSE}
# load parameters data
ldp_intercept <- read_feather("/Users/Yawen/Desktop/lexical diversity/trial5_ldp/ldp_intercept2.feather")

# report LDP variation
ldp_var <- ldp_intercept %>%
        filter(person == "k")%>%
        gather(type, value, intercept, slope) %>%
        group_by(measure, type) %>%
        summarise(mean = mean(value, na.rm=TRUE),
                  sd = sd(value, na.rm=TRUE),
                  coef_of_var = sd/mean)%>%
        print()

ldp_var[,-1] <- printnum(ldp_var[,-1])

apa_table(ldp_var, caption = "Descriptive statistics for LDP child's intercept and growth rate (n=66)")
```

## Correlation 
Children vary widely in their intercept and slope of vocabulary growth trajectory. We first evaluate predictors of child's growth parameters generated by MTLD, MATTR, vocd-D and TTR. A growing body of previous work demonstrates significant influence of caregiver's speech on child's language development (Rowe, 2008;...). In LDP corpus, caregivers' intercept does not relate to their child's intercept, as shown in Table 2. Because the initial language aptitude is represented by one of growth parameters-intercept-we seprate confounding contextual relation from caregiver-child conversation sample. Yet, caregiver's slope significantly relates to child's growth rate of vocabulary diversity. Table 2 demonstrates a positive relation between caregiver's slope and child's slope that are deriving from MTLD and MLU, while MATTR generates a moderately negative relation between them. This finding aligns with that from previous work in which mothers fine-tune language usage in connect to their children's level of understanding and language skills.(...)

```{r Table 2}
# report correlation results in LDP
# mother's slope ~ child's slope
ldp_intercept %>%
        gather(type, value, intercept, slope) %>%
        filter(complete.cases(.),
               measure %in% c("mattr", "mlu","mtld","ttr","vocd"))%>%
        spread(person, value) %>%
        group_by( measure, type) %>%
        summarise(cor = cor(k, m))
```

Score of research documents a relation between socioeconomic status and children's vocabulary development (Hart & Risley, 1995; Lawrence & Shipley, 1996; Hoff-Ginsberg, 1991; Hoff, Laursen & Tardif, 2002). Our results also show household income is a significant predictor of children's lexicon diversity. Table 3 presents a significant correlation between household income and child's intercept generated by MTLD, CDI, PPVT and MLU, and its relation to child's slope measured by MTLD, MLU and PPVT. Specifically, children of high SES do not necessarily start with a more sophiscated language skill, but their vocabulary tend to develop faster than children from lower income family.

```{r Table 3}
#income~child's intercept
ldp_all %>%
        select(subject, mean_income)%>%
        left_join(ldp_intercept)%>%
        filter(person == "k")%>%
        gather(type, value, intercept) %>%
        filter(complete.cases(.))%>%
        unique()%>%
        select(-slope)%>%
        spread(type, value) %>%
        group_by(measure) %>%
        summarise(cor = cor(intercept, mean_income))

#income~child's slope
ldp_all %>%
        select(subject, mean_income)%>%
        left_join(ldp_intercept)%>%
        filter(person == "k")%>%
        gather(type, value, slope) %>%
        filter(complete.cases(.))%>%
        unique()%>%
        select(-intercept)%>%
        spread(type, value) %>%
        group_by(measure) %>%
        summarise(cor = cor(slope, mean_income))
```

## The mechanism of MTLD
The correlation analysis demonstrates that household income is a significant predictor of child's vocabulary skill, and to what extent caregivers change the way they talk across age significantly relates to the growth rate of child's vocabulary, as measured by MTLD and normative measures. So far, the results generated by MTLD are consistent with the previous findings, revealing a significant relation between caregiver's speech and child's language development. To explore what distinguishes MTLD from other lexical diversity techniques (i.e. vocd-D, TTR and MATTR), we examine its theoretical rationale and test how this mechanism works using simulation.

## Sequential analysis
Conceptually, MTLD estimates average number of consecutive tokens for which a certain TTR is maintained (e.g. 0.72 by default). For any given sample, each token is evaluated sequentially for its TTR. For example, "I"(TTR = 1) "had"(TTR = 1) "chicken"(TTR = 1) "and" (TTR = 1) "I" (TTR = 0.8) "also" (TTR = 0.83) "had" (TTR = 0.71) and so forth. When the default TTR score is reached (here, 0.72), the factor count increases by a value of 1 and the TTR evaluations are reset. This process is repeated until the last token of the sample is evaluated for its TTR. Then the total number of tokens is divided by the total factor count. Subsequently, the same process is repeated on the reversed language sample. The final MTLD value is the mean of forward and reversed MTLD scores.

When looking into existing lexical diversity indices, nonsequential analysis is still a common approach. One reason of its being ubiquitous relates to the advantage of avoiding local clustering. However, it may lead to a distorted way of overall text (Malvern et al. 2004). MTLD is an exception. The sequential analysis of MTLD distinguishes itself from other measures by maintaining the integrity of a text, because it evaluates words in order, rather than treats a text as a bag of words. Words, or other textual components, have to be bound together with a certain structure so that a reader or a listener can form a coherent mental representation (Van Dijk & Kintsch, 1983). Therefore, the sequential analysis may provide information on vocabulary from various levels, lexical level and sematic level, that interact in an intricate way. The final set of analyses explore how MTLD works differently from other measures by assessing multiple simulated child's speech sampled from LDP corpus. 

## Simulated speech
The sequential analysis differs from nonsequential analysis mainly in its measuring a text in order. Here, we sougt to assess the degree to which there is a significant change in the value of each lexical diversity index caused by the change of word order. We begin with a baseline sample of 3000 tokens from large LDP corpus and then create another two simulated child speech samples generated by including 15 tokens in a repetitive order or in a random order. For the 15 tokens, we generate a list of all the unique word types produced by children in the entire corpus, and select the first 5 word types that occur in LDP most frequently, specifically, "I", "you", "the", "it" and "no". In the second sample, we add a total number of 15 tokens with each word type repeating 3 times in such a repetitive order as "i", "i", "i", "no", "no", "no", "you", "you", "you", "the", "the", "the", "it", "it", "it". The third sample is created by inserting the same 5 word types in a random order. We then repeat this sampling procedure 100 times and measure three types of child speech by four lexical diversity techniques. Results are shown in Figure 4. There is a consistent decrease in MTLD scores when comparing samples of various word orders, though the text is manipulated at a very small scale of 0.5 percent tokens. Whereas MATTR shows no change in its value with manipulating text sample, vocd-D and TTR scores slightly decrease as 15 tokens are added into baseline sample, regardless of the order of additional tokens. It remains unclear whether the decrease in MTLD scores is caused by the change of word orders, or adding frequent word types that actually yield greater lexical overlap. Similarly, it is also unknown if the change of vocd-D and TTR values are caused by less diversity in word types or confounded by change of text length.   

```{r Figure7}
# load data
all_ld <- read_feather("/Users/Yawen/Desktop/lexical diversity/trial5_ldp/all_ld.feather")

# plot 
all_ld %>%
  filter(size == "large")%>%
  filter(text == "high frequency words")%>%
  ggplot()+
  geom_boxplot(aes(x=group, y=value, color=group)) +
  facet_grid(~measure)+
  theme_classic()+
  labs(title = "Compare All Measures with Simulated Speech",
       subtitle = "baseline sample: 3000 tokens",
       y = "Scaled lexical diversity")+
  theme_apa()
```

The second question emerging from this is whether word frequency influences lexical diversity score and whether the effect varies with respect to different measures. We also randomly sample 3000 tokens as a basline child speech and add 5 unique low-frequency word types in a repetitive order or in a random order, respectively. To be more specific, these word types are "treatment", "clog", "trustworthy", "thief" and "tofu"; each word type only occurs once in the LDP corpus. The second sample comprises of the baseline sample with these 5 unique word types repeating 3 times in order, and the third sample entails these 5 word types repeating 3 times in a random order. We perform the same sampling procedure described previously 100 times. Figure 5 demonstrates that MTLD scores significantly drop when adding tokens in a repetitive order, but there is no significant change with various word frequencies. Whereas MATTR and TTR are influenced neither by word type nor by word order, vocd-D scores slightly increase as sparsely occuring words are added but decrease when adding more common words. Comparisons among four versions of manipulated speech of the same text length (i.e. 3015 tokens) suggest that the sensitivity of vocd-D to word types and the sentivity of MTLD to word orders are not confounded by text length.

```{r Figure 8}
# plot 
all_ld %>%
  filter(size == "large")%>%
  ggplot()+
  geom_boxplot(aes(x=group, y=value, color=group)) +
  facet_grid(measure~text)+
  theme_classic()+
  labs(title = "Compare All Measures with Simulated Speech",
       y = "Scaled lexical diversity")+
  theme_apa()

all_ld %>%
  filter(size == "large")%>%
  filter(!group == "baseline")%>%
  ggplot()+
  geom_boxplot(aes(x=group, y=value, color=text)) +
  facet_grid(~measure)+
  theme_classic()+
  labs(title = "Compare All Measures with Simulated Speech",
       y = "Scaled lexical diversity")
```

# Discussion
MTLD distinguishes word orders, thus offers thematic/synatic information of child's language usage
vocd-D can detect different word types, thus offers an incremental advantage


# Acknowledgements

We are grateful to the members of the Communication and Learning Lab for feedback on this project and manuscript. This work was supported by a James S. McDonnell Foundation Scholar Award to DY. 


\newpage

# References


```{r}
# References will be generated automatically by Pandoc and included here.
# The following code is some latex to format the bibliography. Do not remove it.
```

\setlength{\parindent}{-0.5in}
\setlength{\leftskip}{0.5in}

<div id = "refs"></div>
\noindent
